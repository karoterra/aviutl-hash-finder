import{A}from"./aviutlModuleRepository.cf4c84f1.js";import{d as F,w as B,r as i,h as C,a as b,b as v,e as h,i as g,j as N,F as V,f as c,o as m,k as D,g as M,t as y,l as P}from"./index.5377ecb2.js";class U{static getModules(n){const s=[],d=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{8}:(.*) \(([0-9a-fA-F]{64})\)/gm;let t;for(;(t=d.exec(n))!==null;)s.push({filename:t[1],sha256:t[2]});return s}}const z=["href"],T=F({__name:"PatchView",async setup(x){let n,s;const d=([n,s]=B(()=>A.getInstance()),n=await n,s(),n),t=i(void 0),k=["known","unknown"],r=i(k[0]),p=i([]),u=i([]);return C(t,async f=>{if(f){const o=await f.text();p.value.splice(0),u.value.splice(0);const _=u.value.concat(U.getModules(o));for(const l of _){const e=d.findBySha256(l.sha256);e?p.value.push({originalFilename:e.filename,currentFilename:l.filename,name:e.name,version:e.version,build:e.build,author:e.author,url:e.url,sha256:e.sha256}):u.value.push(l)}}}),(f,o)=>{const _=c("va-file-upload"),l=c("va-tab"),e=c("va-tabs"),w=c("va-data-table");return m(),b(V,null,[v(_,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a),dropzone:"",type:"single","drop-zone-text":"Drag'n'drop a patch.aul debug info file or"},null,8,["modelValue"]),v(e,{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=a=>r.value=a)},{tabs:h(()=>[(m(),b(V,null,D(k,a=>v(l,{key:a,name:a},{default:h(()=>[P(y(a),1)]),_:2},1032,["name"])),64))]),_:1},8,["modelValue"]),r.value==="known"?(m(),g(w,{key:0,items:p.value,striped:""},{"cell(url)":h(({value:a})=>[M("a",{href:a},y(a),9,z)]),_:1},8,["items"])):r.value==="unknown"?(m(),g(w,{key:1,items:u.value,striped:""},null,8,["items"])):N("",!0)],64)}}});export{T as default};
