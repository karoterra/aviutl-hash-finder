import{A as x}from"./aviutlModuleRepository.6137950d.js";import{d as A,w as F,r as i,f as C,a as h,b as _,g as b,h as g,i as B,F as y,e as c,o as m,j as M,k as N,t as P}from"./index.fbce2c0f.js";class U{static getModules(n){const s=[],d=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{8}:(.*) \(([0-9a-fA-F]{64})\)/gm;let a;for(;(a=d.exec(n))!==null;)s.push({filename:a[1],sha256:a[2]});return s}}const S=A({__name:"PatchView",async setup(V){let n,s;const d=([n,s]=F(()=>x.getInstance()),n=await n,s(),n),a=i(void 0),k=["known","unknown"],u=i(k[0]),p=i([]),r=i([]);return C(a,async v=>{if(v){const o=await v.text();p.value.splice(0),r.value.splice(0);const f=r.value.concat(U.getModules(o));for(const l of f){const e=d.findBySha256(l.sha256);e?p.value.push({originalFilename:e.filename,currentFilename:l.filename,name:e.name,version:e.version,build:e.build,url:e.url,sha256:e.sha256}):r.value.push(l)}}}),(v,o)=>{const f=c("va-file-upload"),l=c("va-tab"),e=c("va-tabs"),w=c("va-data-table");return m(),h(y,null,[_(f,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=t=>a.value=t),dropzone:"",type:"single"},null,8,["modelValue"]),_(e,{modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=t=>u.value=t)},{tabs:b(()=>[(m(),h(y,null,M(k,t=>_(l,{key:t,name:t},{default:b(()=>[N(P(t),1)]),_:2},1032,["name"])),64))]),_:1},8,["modelValue"]),u.value==="known"?(m(),g(w,{key:0,items:p.value},null,8,["items"])):u.value==="unknown"?(m(),g(w,{key:1,items:r.value},null,8,["items"])):B("",!0)],64)}}});export{S as default};
